<div align="left">
  <img src="https://github.com/impishian/input_method/blob/main/%E5%85%B6%E4%BB%96/%E5%A3%B0%E7%AC%94%E9%A3%9E%E5%8D%95.png" />
</div>

### [声笔飞单](https://sbxlm.github.io/sbfd/)

#### 1. 集合
|  | 集合 | 含义 | 个数 |
|------|------|------|------|
| S | [a-z] - B = [cdfghjklmnpqrstvwxyz] | 声母 | 21 |
| P | [a-z] - B = [cdfghjklmnpqrstvwxyz] | 偏旁部首 | 21 |
| B | [aeuio] | 笔画 | 5 |
| P' | [zhpsd] | 偏旁部首里的笔画，P' ∈ P | 5|


#### 2. 字取码规则

|  | 取码规则 | 个数 | |
|------|------|------|------|
| 字 | SPBB | 2W+ |  |
| 成字部首 | SP'BB | 约一两百 |  |
| 一简字 |   S_ | 21 |```可不平的是， 我一个人没在， 而你和他出去下就发了。```<br><br> or: <br><br> ```不出的发个和就可了没你平去人是他而我下一在``` |
| 二简字 |  |546 | SB+SP |
| 声笔字| SB | 21 * 5 = 105 | ```如同孔明自快话， 开口正道无怕经， 二双公民来前线， 年内安然回南国； 若说阿维当农夫， 片上方家暗笑她， 进得高中好体面， 心想事成且大为； 别看晚儿那小子， 强力对手也头破， 从此把着全日用， 除非白天会给还； 部分次品立飞过， 让利几起眼皮边， 名门里外有意见。```<br><br> or: <br><br> ```边把白别部 除成从此次 对大得当道 飞夫分非方 给过公国高 好还会回话 经进几见家 孔开看口快 力来利里立 民面名明门 那南年内农 皮破片品怕 强起全且前 如若然日让 双事手上说 她天体同头 阿二儿暗安 维无外晚为 线想笑小心 也有用眼意 子正自中着```|
| 声偏字| SP | 21 * 21 = 441 | 如下： |
```
	并辈半报宝比布吧办本被八暴便北壁表变必颁般
	曾草沉持察才常吃产查初长春传参场重处穿楚存
	点德斗打定东带丹到毒妒等电但段地都敌多调刀
	费范法放府房凤否副粉妇风犯份饭番服复繁反罚
	关广港搞官工改哥刚根告管果供古鼓干各光该跟
	黄很活护害或红后怀横婚乎狠何华坏胡环忽欢孩
	句节江接即积解叫加间姐金基今尽界际教觉记将
	卡苦况控客科凯困刻阔肯筷狂会克考亏珂空颗跨
	兰落冷拉良两练另连林礼笼量令乱老脸理乐领路
	贸莫满摸魔木幕吗忙每妹毛猛命目埋末敏梦美马
	疟耐凝扭宁囊纳呢努闹娘牛暖拿能男脑弄念难女
	普萍派排庞炮凭匹判骗婆牌曝偏碰培陪旁票配跑
	泉轻清抢巧其钱区情权妻气期企千墙却齐穷请趣
	髯软刃扰弱燃绕肉热柔褥入揉任饶壤阮瑞容认乳
	首世死施实十所四势杀生身时使山声三市少谁受
	痛徒太托它土统听通糖特筒替停台堂脱条突题跳
	癌艾奥按鞍耳锷啊愕案鹅哎欧俄饿埃鄂哀尔额爱
	卧往文握完王纹围违问武舞旺位屋畏未望忘误哇
	贤行象旋项西新向性相先形星信协喜些现学许息
	益原言爷引与已因远样妖月由以业域于玉要议又
	则著之指张再组只这杂整长最作知走重主怎证置
```
|  | 取码规则 | 个数 | |
|------|------|------|------|
| 三简字| SPB | 2135 < 21 * 21 * 5 = 2205  | |
| 全码字| SPBB | 约 2W+  | 大致算下：21 * 21 * 5 * 5 = 11025，因此必须大量字共用码才能容纳2W+的字。 |

#### 3. 部首

#### 3.1 取部规则

拆分字为左右或者上下两个部分，按先后顺序取部首，前面部分优先，前面部分不是部首就取后面部分，但是单笔画的优先级别更低；

若前后两部分都不是部首，则继续按上述原则拆分。

若偏旁部首本身是一个成字，那么就取它的第一个笔画作为部首。

若是声笔字，则优先取首笔。

注意，为了尽量离散重码，存在个别例外，会在特取字中列出。

```
飞单的部首一般在字的首部或尾部，将汉字直观地拆分为两个部分，
如果只有一个部分是部首，就取这个部分。
例如，「制」分成制的左半和立刀旁，制的左半不是部首，则取立刀旁。

如果两个部分都是部首，则取第一部分。
 例如，「红」分成绞丝旁和工，取第一部分绞丝旁。

如果两个部分都不是部首，则继续把两个部分拆分，再取首部或尾部。
例如，「疑」分成疑的左半和疑的右半，它们都不是部首，继续拆分，
拆分成匕，矢，叉，疑的右上和疋，只看首尾：匕和疋，匕不是部首，取疋。

如果这个字本身就是部首，则取第一笔。 例：「石」取横。

如果这个字就是部首，但形似另一个部首，它们的编码规则为：声母+主部首+前两笔。
这种部首只有四个，其中「曰」归入「日」，编码为yqi；
「士」归入「土」，编码为ste；「毋」归入「母」，编码为wma；「已」归入「己」，编码为yj。

还有个别部首，它们的取部规则和非部首字一样：「广」取「厂」，编码为gc；
「走」取「土」，编码为zt；「麦」取「夂」，编码为mwe；「龍」取「立」，编码为llia。

如果四个部分都不是部首，则将首尾继续拆分，直到取到部首为止。

例：「蠲」拆分成益的上半，皿，蜀的上半和蜀的下半，还没取到部首，
继续拆分取首尾，取：倒八，虫，倒八和虫都是部首，则取前面的倒八。
```

#### 3.2 特取字

| 特取字 |
|-------|
|「敌dw」字的部首没有按顺序取「舌」而取了「攵」|
|「或hh」字的部首没有取「戈」而取了「一」|
|「互hha」字的部首没有取「彑」而取了「一」|
|「重cv」「 垂cvu」取的是最下面的「二」而不是首笔撇|
|「奏zveu」「三sv」「表bv」取的是上面的「二」|
|「某mce」取的「艹」而不是「木」|
|「世sc」和「甘gce」取的「艹」而不是「一」|
|「半bd」取的「丶」而不是「八」|
|「东dh」取的「一」而不是「小」|
|「点db」取的「卜」而不是「灬」|
|「兆」取中间撇而不是「儿」|
|「乘」取上面的撇而不是「禾」|
|「辜」取上面的「十」而不是下面的「辛」|
|「肆szae」取左边部分，为「長」的变形部首，未列在助记皮肤中|

#### 3.3 部首编码

这是飞单的一个难点和重点。

|  部首类别 | 细分 | 具体的部首 | 编码规则 |
|------|------|------|------|
| 成字部首 | 常规部首 |又气欠犬青其韦韋文瓦王人田土业页頁衣羊言音酉十山尸石矢舌身鼠示食殳豕刀歹斗鬥豆风風父缶工弓戈瓜革骨鬼艮一户火禾黑己巾斤見臼角金龙鹿耒卤鹵乙舟豸隹足爪爿長夕穴血辛厂寸车車虫赤辰齿齒彳耳月羽鱼魚雨聿八女鸟鳥止马馬门門毛木皿目米麻母 | SP'BB。又yz, 气qp, 欠qpa, 犬qhu, 韋wzie ... 等 |
|         | 声笔部首 |日用片皮手大方几见口力立里子自小心二儿 | SB。日ri ... 等|
|         | 变形部首 |曰士毋已 |SPB。 曰yqi, 士ste, 毋wma, 已yj |
|         | 特殊部首 |广走麦龍 |「广」取「厂」，编码为gc；「走」取「土」，编码为zt；「麦」取「夂」，编码为mwe；「龍」取「立」，编码为llia。 |
| 非成字部首 | 易显部首 |犭攴攵夂夊亠亻讠尢疋丿彡饣飠丨厶丶冫氵癶扌宀冖虍钅釒纟糹囗匚凵冂刂忄廴辶灬爫丬罒镸巛覀彐糸艹屮阝卩勹丷牜衤礻廾毌 |用笔画反查的方式来输入，一般需要重复末笔。如：犭uauuuuu |
|          | 难显部首 |竹字头（如筑的上边）、足字旁（如跑的左边），学字头，肖字头，病字旁，牛字头（如告和靠的上部）、「肆」的左部|  不一定能输入。|

### 4. 词取码规则

飞单非纯粹的单字输入方案。

常规模式下，能输入少量高频二字词。增强模式下，还支持不少用数字选择的二字词，供高级用户缩短码长时使用。

飞单不会自动造词，不生成临时词组，以免产生大量废词。仍可通过首码后按Shift+Tab（手机上则上滑Shift）来进行手动造词。

#### 4.1 一简组合

「一个」可以用 **yg; 代替 y_g_** 来上屏。

类似的，还有「个人gr;」「人人rr;」「一人yr;」「个就gj;」「了是ls;」等等。

#### 4.2 声声词

|  | 取码规则 | 个数 | |
|------|------|------|------|
| 声声词 | SS + tab 或' | 21 * 21 = 441 | 如下：|
```
	没有我们他们什么自己知道可以这个起来这样已经发展
	因为现在怎么你们工作问题经济还是出来如果只是不过
	这些国家企业时候所以说道一定这里并不如此还有关系
	进行可能也是但是而且今天地方觉得建设时间虽然一样
	那个的话姑娘第一为了女人一些如何突然之后告诉记者
	不要市场开始看到爱人全国同时过去东西政府系统当然
	发现下来希望孩子一切一直身上认为人民十分先生回来
	管理原来必须不住那些表示应该无法忽然许多情况需要
	明白因此改革事情相信得到朋友喜欢感到第二不仅出现
	完全通过看见我国发生离开美国其中大家方面领导正在
	实现不同活动成为根本一般特别服务教育问道非常方法
	父亲夫人以后提出目前那里几乎一面代表别人文化其他
	清楚身子部门小姐加强听到老人难道作为建立自然结果
	今年环境人员人家不错女子看看其实历史不得立即认识
	工程然而地区参加女儿同志看来支持准备回去开发那样
	条件利用口气基础点头此时香港仍然想起产品身边天下
	微笑进入儿子存在才能微微两国果然理论去年衣服轻轻
	控制只能马上基本这儿单位科学之前取得成功名字日本
	保护冷笑完成缓缓少女此刻关于身体项目表情农村不肯
	前面办法法律大哥水平形成全部晚上痛苦摇头本来共同
	后面露出里面房间弟子年轻分别日子总统而已安危厉害
	恢复充满显然另外采取目的慢慢发挥上来一块耳边回头
	明天打开看出恐怕唯一统一传统反而毫无很快台湾产业
	美丽功夫带来门口模型太太充分只怕调查女孩多年讨论
	情形反应那时温柔来自依然人类承认文件年纪法国头发
	麻烦不怕客人害怕漂亮多么幸福一旁或许旁边加快安排
	革命反对所谓出版片刻期间程度不安宣布位置人口见面
	妇女平静召开无比澳门毫不那边可爱黑暗常常男女千万
	离去热情人大老板谈话从而无奈时刻普通因而极为老头
	公开暗藏提起暗暗破坏名称面积把握规划放开儿童气氛
	谈判念头案件耳朵热闹何处美人各位恶心脾气胸口培训
	分配批准拼命两岸老婆如同人心客厅模糊偏偏送给平常
	解放恐怖公安平日回归昂首公平平时性能情人佩服客户
	判断大批开门前后渴望浪费美女头脑能否骄傲金牌若非
	半年难看窗户颇为而后儿女喜爱平安屁股客观河南强迫
	案犯门派一年我看物品理念而来我爱是啊那位新品反弹
	门外图案哪怕而过陪你请按名额人品安康
```

#### 4.3 空位词组

飞单的单字编码有62个空码位。为充分利用，在上面安排了常用的二字词。

编码格式为：**SS+次字B**，只需三键就可以输入，例如：分类flo，大纲dga，吩咐ffi。

#### 4.4 飞码词组

飞单实际上只是飞码的单字模式，仍可通过 **大写第二码** 来输入飞码的多字词，通过 **大写第三码** 来输入飞码的二字词和三字词。

在输入那些不知道或者想不起部首的复杂成语时非常有用，也可以用来缩短码长而提高输入速度。

例如：「魑魅魍魉cMwl」「风驰电掣fCdc」「螳螂tcLc」「蜿蜒wcYc」「计算机jsJm」「输入法srFd」等。

### 5. 标点字词

|  | 取码规则 | 个数 |
|------|------|------|
| 标点单字 | 声母加分号或者单引号编码，第二码是无理的| 42 |
| 标点词组（格式1）|首字SB + ; 或 ' | 21 * 5 * 2 = 210个二字词|
| 标点词组（格式2）|首字S + ; 或 ' + 次字B | 21 * 2 * 5 = 210个二字词|

### 6. 数选字词

|  | 取码规则 | 个数 |
|------|------|------|
| 数选单字 | SN ，其中N为数字 | 21 * 10 = 210 |
|         | SBN | 一些 |
| 数选词组 | SSN | 21 * 21 * 10 = 4410 |

### 7. 码表重码情况

sbfd.dict.yaml: 23349行编码（去重后，实际编码数: 8653）。

有重码字的编码有：3869

重码字超过10个的编码有：284。如下所示，左边为字数，右边为编码。

```
  33 zjei
  31 ynia
  31 ymei
  30 zcei
  30 sdei
  28 ynei
  28 ycia
  28 xjei
  28 llei
  26 zvei
  26 ycei
  26 jcei
  25 yhia
  25 lcei
  25 hcei
  24 scei
  24 mmei
  24 jjia
  24 gjei
  23 zmei
  23 yvia
  23 qcei
  23 mcia
  23 lvei
  23 jmei
  23 hdia
  23 ccei
  22 zmia
  22 yjia
  22 xcei
  22 wcia
  22 smia
  22 ljei
  21 ykia
  21 yjei
  21 qmei
  21 lnei
  21 ldei
  21 jjei
  21 cmei
  20 zmoe
  20 ydia
  20 ycui
  20 smei
  20 lmei
  20 ldoe
  20 djei
  19 zsei
  19 zjia
  19 ynuo
  19 ymia
  19 lmia
  19 ljia
  19 jmia
  19 gjia
  19 csei
  18 zcia
  18 ysuo
  18 ysia
  18 lmeu
  18 lcoe
  18 lcia
  18 jmua
  18 jcia
  18 hkei
  18 hdei
  18 gvei
  18 gmia
  18 gmei
  17 yyei
  17 ysei
  17 yqia
  17 ymuo
  17 xqei
  17 slei
  17 qsei
  17 lcuo
  17 ksei
  17 jjua
  17 jhia
  17 jdei
  17 jcua
  17 hnei
  17 hmei
  17 gcia
  17 fcei
  17 clei
  16 znei
  16 zcoe
  16 yrei
  16 ydou
  16 yceu
  16 tmia
  16 svia
  16 snia
  16 sjia
  16 sjei
  16 qnei
  16 qjei
  16 mnei
  16 lmua
  16 ljoe
  16 jvoe
  16 jmae
  16 hyei
  16 gsia
  16 dyei
  16 dsei
  16 dmei
  16 djia
  16 dcei
  16 cjoe
  16 ccia
  16 bmei
  15 zyoe
  15 zyei
  15 yyia
  15 ykei
  15 xjue
  15 tsia
  15 smao
  15 mjei
  15 lvia
  15 kmia
  15 jzia
  15 jyei
  15 jsei
  15 jgei
  15 hsei
  15 hjia
  15 hjei
  15 gsei
  15 gkei
  15 gcei
  15 dnei
  14 zvue
  14 zpei
  14 zjoe
  14 zdei
  14 zbei
  14 yvei
  14 ydei
  14 ycou
  14 xvuo
  14 xvei
  14 xnia
  14 xmei
  14 xcui
  14 wdia
  14 tjia
  14 sdia
  14 qvei
  14 lsei
  14 lmoe
  14 jvae
  14 jlia
  14 jcoe
  14 jcae
  14 hcia
  14 gvia
  14 ddei
  14 czei
  14 cjia
  14 cdia
  13 znue
  13 zmue
  13 zmua
  13 zjue
  13 zjua
  13 zhei
  13 zcaa
  13 yyuo
  13 yyua
  13 ytei
  13 yseu
  13 ylia
  13 xmia
  13 tmei
  13 mdei
  13 lwia
  13 lvuo
  13 lsua
  13 lsia
  13 lnia
  13 lmoa
  13 lleu
  13 lceu
  13 jzei
  13 jsia
  13 jnia
  13 jnae
  13 jdua
  13 jdia
  13 hvei
  13 hmia
  13 cmia
  13 ccua
  13 ccoe
  13 bvei
  13 bjei
  12 zcue
  12 ywia
  12 yvuo
  12 yqei
  12 yneu
  12 ymua
  12 ymoe
  12 ylei
  12 ygia
  12 yduo
  12 xqia
  12 xlia
  12 xjoe
  12 xjia
  12 xdui
  12 xcia
  12 xcae
  12 smuo
  12 qzei
  12 qlei
  12 mmia
  12 mjia
  12 lsoe
  12 lhia
  12 kjia
  12 jrei
  12 jnei
  12 jjui
  12 gdia
  12 dkei
  12 djoe
  12 cmue
  12 cjei
  12 cdei
  11 zzoe
  11 zyue
  11 zyua
  11 zsoe
  11 znua
  11 zlei
  11 zgei
  11 yveu
  11 ymeu
  11 ymee
  11 yluo
  11 ylao
  11 yfei
  11 ydoe
  11 ycuo
  11 xmoe
  11 xduo
  11 xcuo
  11 vkei
  11 tvou
  11 tdei
  11 smua
  11 scoe
  11 qjia
  11 qdei
  11 pcei
  11 msei
  11 mlei
  11 lseu
  11 lrei
  11 lneu
  11 lkei
  11 ljuo
  11 ksia
  11 kmei
  11 klia
  11 jnoe
  11 jmeu
  11 hlia
  11 hhei
  11 hcui
  11 gdei
  11 fnuo
  11 fmei
  11 dvei
  11 cnia
  11 cjue
  11 cdoe
  11 bsei
  11 bjeu
```
